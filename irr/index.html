<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>伊朗里亚尔今日汇率IRR_rate</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.5, maximum-scale=2.0, user-scalable=yes" />
<script type="text/javascript" src="https://www.nowapi.com/style/jquery/1.11.3/jquery.min.js"></script>
<script>
$(document).ready(function(){
    $.ajax({
        type          : 'get',
        async         : false,
        url           : 'http://api.k780.com/?app=finance.rate&scur=IRR&tcur=CNY&appkey=57377&sign=d351c8d920071a9c242aa6e13a6c803d&format=json&jsoncallback=data',
        dataType      : 'jsonp',
        jsonp         : 'callback',
        jsonpCallback : 'data',
        success       : function(data){
if(data.success!='1'){
                alert("线路繁忙，请稍后再试！Line is busy,please try later.");
                exit;
            }
//遍历
for(var i in data.result){
	if (i=="rate"){
		var rr = data.result[i];
		var rr2 = (1/rr).toFixed(5);
	}else if (i=="update"){
		var tt = "<font size=2>更新时间："+data.result[i]+"</font></br></br>";
	}
		var aa = "<span>1</span>&nbsp;IRR=<span>"+rr+"</span>CNY</br></br>";
		var bb = "<span>1</span>CNY=<span>"+rr2+"</span>&nbsp;IRR</br></br>";
		var cc = tt+aa+bb;
		document.getElementById("irr").innerHTML=(cc);
	}}
	});  

	$.ajax({
        type          : 'get',
        async         : false,
        url           : 'http://api.k780.com/?app=finance.rate&scur=IRR&tcur=USD&appkey=57386&sign=015b3157b54ef9f1677505b37873c067&format=json&jsoncallback=data',
        dataType      : 'jsonp',
        jsonp         : 'callback',
        jsonpCallback : 'data',
        success       : function(data){
if(data.success!='1'){
                alert("线路繁忙，请稍后再试！Line is busy,please try later.");
                exit;
            }
//遍历
for(var i in data.result){
	if (i=="rate"){
		var rr3 = data.result[i];
		var rr4 = (1/rr3).toFixed(5);
	}else if (i=="update"){
		var tt2 = "<font size=2>更新时间："+data.result[i]+"</font></br></br>";
	}
		var aa2 = "<span>1</span>&nbsp;IRR=<span>"+rr3+"</span>USD</br></br>";
		var bb2 = "<span>1</span>USD=<span>"+rr4+"</span>&nbsp;IRR</br></br>";
		var cc2 = aa2+bb2;
		document.getElementById("irr2").innerHTML=(cc2);
	}}
	});
});
</script>
<!--计算器样式-->
<style type="text/css">
	#bt1,#bt2{
    cursor: pointer;
	width:100px;
	display:inline;
	-moz-appearance:button;
    -webkit-appearance:button;
    appearance:button;
	}
	#irr span{
		color:red;
	}
	#irr2 span{
		color:blue;
	}
	.but_ac{
    		width: 80px;
    		height: 60px;
    		background-color : lightgray;
    		font-size: 1.2em;
    	}
	.but{
    		width: 80px;
    		height: 60px;
    		background-color : lightgray;
    		font-size: 1.2em;
    	}
	.screen{
    		width: 350px;
            height: 70px;
            font-size: 1.5em;
            color: white;
            background-color: black;
            text-align:right; 
    	}
</style>
<!--计算器js-->
<script type="text/javascript">
	window.onload=function(){
		var result;
		var str=[];
		var num=document.getElementsByClassName("but");
		var scr=document.getElementsByClassName("screen")[0];
		for(var i=0;i<num.length;i++){
			num[i].onclick=function(){
			if(this.value=="AC"){scr.value="";}
			else if( this.value=="+/-"){
				if(scr.value==""){scr.value="";}
				else if(isNaN(scr.value.charAt(scr.value.length-1))==false&&isNaN(scr.value.charAt(scr.value.length-2))==true)
    	     		{scr.value=scr.value.substr(0,scr.value.length-1)+"("+"-"+scr.value.charAt(scr.value.length-1)+")";}  
     	     	  }
			else if (this.value=="Del"&&this.value!=""){scr.value=scr.value.substr(0,scr.value.length-1);}
			else if(scr.value==""&&this.value=="."){scr.value="0.";}
			else if(this.value=="="){scr.value=eval(scr.value);}
			else if(scr.value==""&&(this.value=="+"||this.value=="-"||this.value=="*"||this.value=="/")){scr.value=="";}
			else {scr.value+=this.value;}
        	}
         }
    }
</script>
</head>
<body>
<div align=center>
<div id="irr"></div>
<div id="irr2"></div>
<span>计算器</span>
<!-- 计算器 -->
 <table>
      <tr>
          <td colspan="4"><input class="screen" type="text" disabled /></td>
      </tr>
      <tr>
      	<td><input class="but_ac but" type="button" value="AC" style="color: orange"></td>
      	<td><input class="but_ac but" type="button" value="Del" style="color: orange"></td>
      	<td><input class="but" type="button" value="+/-"></td>
      	<td><input class="but" type="button" value="/"></td>
      </tr>
      <tr>
      	<td><input class="but" type="button" value="7"></td>
      	<td><input class="but" type="button" value="8"></td>
      	<td><input class="but" type="button" value="9"></td>
      	<td><input class="but" type="button" value="*"></td>
      </tr>
      <tr>
      	<td><input class="but" type="button" value="4"></td>
      	<td><input class="but" type="button" value="5"></td>
      	<td><input class="but" type="button" value="6"></td>
      	<td><input class="but" type="button" value="-"></td>
      </tr>
      <tr>
      	<td><input class="but" type="button" value="1"></td>
      	<td><input class="but" type="button" value="2"></td>
      	<td><input class="but" type="button" value="3"></td>
      	<td><input class="but" type="button" value="+"></td>
      </tr>
      <tr>
      	<td colspan="2"><input class="but" type="button" value="0" style="width: 180px"></td>
      	<td><input class="but" type="button" value="."></td>
      	<td><input class="but" type="button" value="=" style="background-color:orange ;color:white"></td>
      </tr>
</table>
<p>@伊周汇Focus</p>
</div>
</body>
</html>
